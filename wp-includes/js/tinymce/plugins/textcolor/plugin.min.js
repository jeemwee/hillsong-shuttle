!function(){var t={},o=function(o,e,n){if("string"!=typeof o)throw"module id must be a string";if(void 0===e)throw"no dependencies for "+o;if(void 0===n)throw"no definition function for "+o;t[o]={deps:e,defn:n,instance:void 0}},e=function(o){var n=t[o];if(void 0===n)throw"module ["+o+"] was undefined";return void 0===n.instance&&function(o){for(var n=t[o],r=n.deps,l=n.defn,i=r.length,c=new Array(i),a=0;a<i;++a)c[a]=e(r[a]);var s=l.apply(null,c);if(void 0===s)throw"module ["+o+"] returned undefined";n.instance=s}(o),n.instance},n=function(t,o){for(var n=t.length,r=new Array(n),l=0;l<n;++l)r.push(e(t[l]));o.apply(null,o)};({}).bolt={module:{api:{define:o,require:n,demand:e}}};var r=o;!function(t,o){r(t,[],function(){return o})}("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.dom.DOMUtils")}),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.PluginManager")}),r("tinymce.core.util.I18n",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.I18n")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(t){return t("tinymce.util.Tools")}),r("tinymce.plugins.textcolor.Plugin",["tinymce.core.dom.DOMUtils","tinymce.core.PluginManager","tinymce.core.util.I18n","tinymce.core.util.Tools"],function(t,o,e,n){var r=e.translate;return o.add("textcolor",function(o){function e(){function t(t,o){var e="transparent"==t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+m+"-"+f+++'" data-mce-color="'+(t||"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+r(o)+'">'+(e?"&#215;":"")+"</div></td>"}var e,n,l,i,c,a,d,g,m=this._id,f=0;for((e=function(t){var e,n,r=[];for(n=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],n=o.settings.textcolor_map||n,n=o.settings[t+"_map"]||n,e=0;e<n.length;e+=2)r.push({text:n[e+1],color:"#"+n[e]});return r}(g=this.settings.origin)).push({text:r("No color"),color:"transparent"}),l='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',i=e.length-1,a=0;a<u[g];a++){for(l+="<tr>",c=0;c<s[g];c++)l+=(d=a*s[g]+c)>i?"<td></td>":t((n=e[d]).color,n.text);l+="</tr>"}if(o.settings.color_picker_callback){for(l+='<tr><td colspan="'+s[g]+'" class="mce-custom-color-btn"><div id="'+m+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+m+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+r("Custom...")+"</button></div></td></tr>",l+="<tr>",c=0;c<s[g];c++)l+=t("","Custom color");l+="</tr>"}return l+="</tbody></table>"}function l(t,e){o.undoManager.transact(function(){o.focus(),o.formatter.apply(t,{value:e}),o.nodeChanged()})}function i(t){o.undoManager.transact(function(){o.focus(),o.formatter.remove(t,{value:null},null,!0),o.nodeChanged()})}function c(e){function r(t){d.hidePanel(),d.color(t),l(d.settings.format,t)}function c(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)}var a,u,d=this.parent();u=d.settings.origin,t.DOM.getParent(e.target,".mce-custom-color-btn")&&(d.hidePanel(),o.settings.color_picker_callback.call(o,function(t){var o,e,l,i=d.panel.getEl().getElementsByTagName("table")[0];for(o=n.map(i.rows[i.rows.length-1].childNodes,function(t){return t.firstChild}),l=0;l<o.length&&(e=o[l]).getAttribute("data-mce-color");l++);if(l==s[u])for(l=0;l<s[u]-1;l++)c(o[l],o[l+1].getAttribute("data-mce-color"));c(e,t),r(t)},function(t){var e;return o.dom.getParents(o.selection.getStart(),function(o){var n;(n=o.style["forecolor"==t?"color":"background-color"])&&(e=n)}),e}(d.settings.format))),(a=e.target.getAttribute("data-mce-color"))?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"==a?(d.hidePanel(),d.resetColor(),i(d.settings.format)):r(a)):null!==a&&d.hidePanel()}function a(){this._color?l(this.settings.format,this._color):i(this.settings.format)}var s,u;u={forecolor:o.settings.forecolor_rows||o.settings.textcolor_rows||5,backcolor:o.settings.backcolor_rows||o.settings.textcolor_rows||5},s={forecolor:o.settings.forecolor_cols||o.settings.textcolor_cols||8,backcolor:o.settings.backcolor_cols||o.settings.textcolor_cols||8},o.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:e,onclick:c},onclick:a}),o.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:e,onclick:c},onclick:a})}),function(){}}),e("tinymce.plugins.textcolor.Plugin")()}();