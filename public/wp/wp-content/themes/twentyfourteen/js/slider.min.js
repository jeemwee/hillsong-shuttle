!function(e){e.featuredslider=function(t,n){var i,a,o=e(t),r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s="ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch,c="",l={};o.vars=e.extend({},e.featuredslider.defaults,n),a=o.vars.namespace,e.data(t,"featuredslider",o),l={init:function(){o.animating=!1,o.currentSlide=0,o.animatingTo=o.currentSlide,o.atEnd=0===o.currentSlide||o.currentSlide===o.last,o.containerSelector=o.vars.selector.substr(0,o.vars.selector.search(" ")),o.slides=e(o.vars.selector,o),o.container=e(o.containerSelector,o),o.count=o.slides.length,o.prop="marginLeft",o.isRtl=e("body").hasClass("rtl"),o.args={},o.transitions=function(){var e,t=document.createElement("div"),n=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(e in n)if(void 0!==t.style[n[e]])return o.pfx=n[e].replace("Perspective","").toLowerCase(),o.prop="-"+o.pfx+"-transform",!0;return!1}(),""!==o.vars.controlsContainer&&(o.controlsContainer=e(o.vars.controlsContainer).length>0&&e(o.vars.controlsContainer)),o.doMath(),o.setup("init"),l.controlNav.setup(),l.directionNav.setup(),1===e(o.containerSelector).length&&e(document).bind("keyup",function(e){var t=e.keyCode,n=!1;o.animating||39!==t&&37!==t||(39===t?n=o.getTarget("next"):37===t&&(n=o.getTarget("prev")),o.featureAnimate(n))}),s&&l.touch(),e(window).bind("resize orientationchange focus",l.resize),o.find("img").attr("draggable","false")},controlNav:{setup:function(){l.controlNav.setupPaging()},setupPaging:function(){var t,n,i=1;if(o.controlNavScaffold=e('<ol class="'+a+"control-nav "+a+'control-paging"></ol>'),o.pagingCount>1)for(n=0;n<o.pagingCount;n++)o.slides.eq(n),t="<a>"+i+"</a>",o.controlNavScaffold.append("<li>"+t+"</li>"),i++;o.controlsContainer?e(o.controlsContainer).append(o.controlNavScaffold):o.append(o.controlNavScaffold),l.controlNav.set(),l.controlNav.active(),o.controlNavScaffold.delegate("a, img","click touchend MSPointerUp",function(t){if(t.preventDefault(),""===c||c===t.type){var n=e(this),i=o.controlNav.index(n);n.hasClass(a+"active")||(o.direction=i>o.currentSlide?"next":"prev",o.featureAnimate(i))}""===c&&(c=t.type),l.setToClearWatchedEvent()})},set:function(){o.controlNav=e("."+a+"control-nav li a",o.controlsContainer?o.controlsContainer:o)},active:function(){o.controlNav.removeClass(a+"active").eq(o.animatingTo).addClass(a+"active")},update:function(t,n){o.pagingCount>1&&"add"===t?o.controlNavScaffold.append(e("<li><a>"+o.count+"</a></li>")):1===o.pagingCount?o.controlNavScaffold.find("li").remove():o.controlNav.eq(n).closest("li").remove(),l.controlNav.set(),o.pagingCount>1&&o.pagingCount!==o.controlNav.length?o.update(n,t):l.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+a+'direction-nav"><li><a class="'+a+'prev" href="#">'+o.vars.prevText+'</a></li><li><a class="'+a+'next" href="#">'+o.vars.nextText+"</a></li></ul>");o.controlsContainer?(e(o.controlsContainer).append(t),o.directionNav=e("."+a+"direction-nav li a",o.controlsContainer)):(o.append(t),o.directionNav=e("."+a+"direction-nav li a",o)),l.directionNav.update(),o.directionNav.bind("click touchend MSPointerUp",function(t){t.preventDefault();var n;""!==c&&c!==t.type||(n=e(this).hasClass(a+"next")?o.getTarget("next"):o.getTarget("prev"),o.featureAnimate(n)),""===c&&(c=t.type),l.setToClearWatchedEvent()})},update:function(){var e=a+"disabled";1===o.pagingCount?o.directionNav.addClass(e).attr("tabindex","-1"):o.directionNav.removeClass(e).removeAttr("tabindex")}},touch:function(){function e(e){v=e.touches[0].pageX,p=e.touches[0].pageY,l=i-v,(u=Math.abs(l)<Math.abs(p-a))||(e.preventDefault(),o.transitions&&o.setProps(s+l,"setTouch"))}function n(){if(t.removeEventListener("touchmove",e,!1),o.animatingTo===o.currentSlide&&!u&&null!==l){var r=l>0?o.getTarget("next"):o.getTarget("prev");o.featureAnimate(r)}t.removeEventListener("touchend",n,!1),i=null,a=null,l=null,s=null}var i,a,s,c,l,d,u=!1,v=0,p=0,f=0;r?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.stopPropagation(),o.animating?e.preventDefault():(t._gesture.addPointer(e.pointerId),f=0,c=o.w,d=Number(new Date),s=(o.currentSlide+o.cloneOffset)*c,o.animatingTo===o.last&&"next"!==o.direction&&(s=0))},!1),t._slider=o,t.addEventListener("MSGestureChange",function(e){e.stopPropagation();var n,i,a=e.target._slider;a&&(n=-e.translationX,i=-e.translationY,l=f+=n,u=Math.abs(f)<Math.abs(-i),e.detail!==e.MSGESTURE_FLAG_INERTIA?(!u||Number(new Date)-d>500)&&(e.preventDefault(),a.transitions&&a.setProps(s+l,"setTouch")):setImmediate(function(){t._gesture.stop()}))},!1),t.addEventListener("MSGestureEnd",function(e){e.stopPropagation();var t,n=e.target._slider;n&&(n.animatingTo!==n.currentSlide||u||null===l||(t=l>0?n.getTarget("next"):n.getTarget("prev"),n.featureAnimate(t)),i=null,a=null,l=null,s=null,f=0)},!1)):t.addEventListener("touchstart",function(r){o.animating?r.preventDefault():(window.navigator.msPointerEnabled||1===r.touches.length)&&(c=o.w,d=Number(new Date),v=r.touches[0].pageX,p=r.touches[0].pageY,s=(o.currentSlide+o.cloneOffset)*c,o.animatingTo===o.last&&"next"!==o.direction&&(s=0),i=v,a=p,t.addEventListener("touchmove",e,!1),t.addEventListener("touchend",n,!1))},!1)},resize:function(){!o.animating&&o.is(":visible")&&(o.doMath(),l.smoothHeight(),o.newSlides.width(o.computedW),o.setProps(o.computedW,"setTotal"))},smoothHeight:function(e){var t=o.viewport;e?t.animate({height:o.slides.eq(o.animatingTo).height()},e):t.height(o.slides.eq(o.animatingTo).height())},setToClearWatchedEvent:function(){clearTimeout(i),i=setTimeout(function(){c=""},3e3)}},o.featureAnimate=function(e){if(e!==o.currentSlide&&(o.direction=e>o.currentSlide?"next":"prev"),!o.animating&&o.is(":visible")){o.animating=!0,o.animatingTo=e,l.controlNav.active(),o.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),o.atEnd=0===e||e===o.last,l.directionNav.update();var t,n=o.computedW;t=0===o.currentSlide&&e===o.count-1&&"next"!==o.direction?0:o.currentSlide===o.last&&0===e&&"prev"!==o.direction?(o.count+1)*n:(e+o.cloneOffset)*n,o.setProps(t,"",o.vars.animationSpeed),o.transitions?(o.atEnd||(o.animating=!1,o.currentSlide=o.animatingTo),o.container.unbind("webkitTransitionEnd transitionend"),o.container.bind("webkitTransitionEnd transitionend",function(){o.wrapup(n)})):o.container.animate(o.args,o.vars.animationSpeed,"swing",function(){o.wrapup(n)}),l.smoothHeight(o.vars.animationSpeed)}},o.wrapup=function(e){0===o.currentSlide&&o.animatingTo===o.last?o.setProps(e,"jumpEnd"):o.currentSlide===o.last&&0===o.animatingTo&&o.setProps(e,"jumpStart"),o.animating=!1,o.currentSlide=o.animatingTo},o.getTarget=function(e){return o.direction=e,o.isRtl&&(e="next"===e?"prev":"next"),"next"===e?o.currentSlide===o.last?0:o.currentSlide+1:0===o.currentSlide?o.last:o.currentSlide-1},o.setProps=function(e,t,n){var i=-1*function(){switch(t){case"setTotal":return(o.currentSlide+o.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return o.count*e;case"jumpStart":default:return e}}()+"px";o.transitions&&(i="translate3d("+i+",0,0 )",n=void 0!==n?n/1e3+"s":"0s",o.container.css("-"+o.pfx+"-transition-duration",n)),o.args[o.prop]=i,(o.transitions||void 0===n)&&o.container.css(o.args)},o.setup=function(t){var n;"init"===t&&(o.viewport=e('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(o).append(o.container),o.cloneCount=0,o.cloneOffset=0),o.cloneCount=2,o.cloneOffset=1,"init"!==t&&o.container.find(".clone").remove(),o.container.append(o.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(o.slides.last().clone().addClass("clone").attr("aria-hidden","true")),o.newSlides=e(o.vars.selector,o),n=o.currentSlide+o.cloneOffset,o.container.width(200*(o.count+o.cloneCount)+"%"),o.setProps(n*o.computedW,"init"),setTimeout(function(){o.doMath(),o.newSlides.css({width:o.computedW,float:"left",display:"block"}),l.smoothHeight()},"init"===t?100:0),o.slides.removeClass(a+"active-slide").eq(o.currentSlide).addClass(a+"active-slide")},o.doMath=function(){var e=o.slides.first();o.w=void 0===o.viewport?o.width():o.viewport.width(),o.h=e.height(),o.boxPadding=e.outerWidth()-e.width(),o.itemW=o.w,o.pagingCount=o.count,o.last=o.count-1,o.computedW=o.itemW-o.boxPadding},o.update=function(e,t){o.doMath(),e<o.currentSlide?o.currentSlide+=1:e<=o.currentSlide&&0!==e&&(o.currentSlide-=1),o.animatingTo=o.currentSlide,"add"===t||o.pagingCount>o.controlNav.length?l.controlNav.update("add"):("remove"===t||o.pagingCount<o.controlNav.length)&&(o.currentSlide>o.last&&(o.currentSlide-=1,o.animatingTo-=1),l.controlNav.update("remove",o.last)),l.directionNav.update()},l.init()},e.featuredslider.defaults={namespace:"slider-",selector:".slides > li",animationSpeed:600,controlsContainer:"",prevText:featuredSliderDefaults.prevText,nextText:featuredSliderDefaults.nextText},e.fn.featuredslider=function(t){if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var n=e(this),i=t.selector?t.selector:".slides > li",a=n.find(i);1===a.length||0===a.length?a.fadeIn(400):void 0===n.data("featuredslider")&&new e.featuredslider(this,t)})}}(jQuery);