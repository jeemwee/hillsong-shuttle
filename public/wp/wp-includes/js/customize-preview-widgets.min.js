!function(e,i){if(e&&e.customize){var t,r=e.customize;r.WidgetCustomizerPreview={renderedSidebars:{},renderedWidgets:{},registeredSidebars:[],registeredWidgets:{},widgetSelectors:[],preview:null,l10n:{},init:function(){this.buildWidgetSelectors(),this.highlightControls(),this.preview.bind("highlight-widget",this.highlightWidget)},buildWidgetSelectors:function(){var e=this;i.each(this.registeredSidebars,function(t,r){var o,s,d,g=[r.before_widget.replace("%1$s","").replace("%2$s",""),r.before_title,r.after_title,r.after_widget].join("");s=(o=i(g)).prop("tagName"),(d=o.prop("className"))&&((d=d.replace(/^\s+|\s+$/g,""))&&(s+="."+d.split(/\s+/).join(".")),e.widgetSelectors.push(s))})},highlightWidget:function(e){var t=i(document.body),r=i("#"+e);t.find(".widget-customizer-highlighted-widget").removeClass("widget-customizer-highlighted-widget"),r.addClass("widget-customizer-highlighted-widget"),setTimeout(function(){r.removeClass("widget-customizer-highlighted-widget")},500)},highlightControls:function(){var e=this,t=this.widgetSelectors.join(",");i(t).attr("title",this.l10n.widgetTooltip),i(document).on("mouseenter",t,function(){e.preview.send("highlight-widget-control",i(this).prop("id"))}),i(document).on("click",t,function(t){t.shiftKey&&(t.preventDefault(),e.preview.send("focus-widget-control",i(this).prop("id")))})}},t=r.Preview,r.Preview=t.extend({initialize:function(e,i){r.WidgetCustomizerPreview.preview=this,t.prototype.initialize.call(this,e,i)}}),i(function(){var e=window._wpWidgetCustomizerPreviewSettings;e&&(i.extend(r.WidgetCustomizerPreview,e),r.WidgetCustomizerPreview.init())})}}(window.wp,jQuery);