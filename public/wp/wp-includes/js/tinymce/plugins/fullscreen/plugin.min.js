tinymce.PluginManager.add("fullscreen",function(e){function t(){function t(){o.setStyle(h,"height",function(){var e,t,n=window,i=document.body;return i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}().h-(u.clientHeight-h.clientHeight))}var d,u,h,a,f=document.body,m=document.documentElement;s=!s,d=(u=e.getContainer()).style,a=(h=e.getContentAreaContainer().firstChild).style,s?(n=a.width,i=a.height,a.width=a.height="100%",r=d.width,c=d.height,d.width=d.height="",o.addClass(f,"mce-fullscreen"),o.addClass(m,"mce-fullscreen"),o.addClass(u,"mce-fullscreen"),o.bind(window,"resize",t),t(),l=t):(a.width=n,a.height=i,r&&(d.width=r),c&&(d.height=c),o.removeClass(f,"mce-fullscreen"),o.removeClass(m,"mce-fullscreen"),o.removeClass(u,"mce-fullscreen"),o.unbind(window,"resize",l)),e.fire("FullscreenStateChanged",{state:s})}var n,i,l,r,c,s=!1,o=tinymce.DOM;if(!e.settings.inline)return e.on("init",function(){e.addShortcut("Ctrl+Alt+F","",t)}),e.on("remove",function(){l&&o.unbind(window,"resize",l)}),e.addCommand("mceFullScreen",t),e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Alt+F",selectable:!0,onClick:t,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:t,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return s}}});