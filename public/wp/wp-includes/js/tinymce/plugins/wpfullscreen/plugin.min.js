tinymce.PluginManager.add("wpfullscreen",function(e){function n(){o.wp_fullscreen=!0,e.dom.addClass(e.getDoc().documentElement,"wp-fullscreen"),e.execCommand("wpAutoResizeOn")}function t(){return"undefined"!=typeof wp&&wp.editor&&wp.editor.fullscreen}function l(){var n=t();n&&(e.getParam("wp_fullscreen")?n.off():n.on())}var o=e.settings;e.addCommand("wpFullScreenOn",n),e.addCommand("wpFullScreenOff",function(){o.wp_fullscreen=!1,e.dom.removeClass(e.getDoc().documentElement,"wp-fullscreen"),e.execCommand("wpAutoResizeOff")}),e.addCommand("wpFullScreen",l),e.on("keydown",function(e){var n;27===e.keyCode&&(n=t())&&n.settings.visible&&n.off()}),e.on("init",function(){e.getParam("wp_fullscreen")&&n(),e.addShortcut("alt+shift+w","","wpFullScreen")}),e.addButton("wp_fullscreen",{tooltip:"Distraction Free Writing",shortcut:"Alt+Shift+W",onclick:l,classes:"wp-fullscreen btn widget"}),e.addMenuItem("wp_fullscreen",{text:"Distraction Free Writing",icon:"wp_fullscreen",shortcut:"Alt+Shift+W",context:"view",onclick:l})});